% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mmrClustVar.R
\name{mmrClustVar}
\alias{mmrClustVar}
\title{mmrClustVar: R6 Class for Clustering of Variables}
\value{
An R6Class generator object. Use \code{$new()} to create a clustering object,
then \code{$fit()}, \code{$summary()}, \code{$plot()} and the various getters
to interpret the results.
}
\description{
An R6 class implementing clustering of variables using:
\itemize{
\item \strong{k-means} for numeric variables (correlation-based distance),
\item \strong{k-modes} for categorical variables (simple matching dissimilarity),
\item \strong{k-prototypes} for mixed data (weighted combination of both).
}

Variables are treated as objects: each variable is represented by its
vector of values across individuals. The algorithm partitions the \eqn{p}
variables into \eqn{K} clusters and, for each cluster, computes a latent
component or a categorical prototype used to measure similarity.
}
\section{Usage}{

\preformatted{
library(mmrClustVar)

obj <- mmrClustVar$new(method = "kmeans", K = 3, scale = TRUE)
obj$fit(iris[, 1:4])
obj$summary()
obj$plot(type = "membership")
}
}

\section{Public methods}{

\describe{
\item{\code{$new(method, K, scale, lambda)}}{Create a new clustering object.}
\item{\code{$fit(X)}}{Fit the model on active variables (columns = variables,
rows = individuals).}
\item{\code{$predict(X_new)}}{Attach supplementary variables to existing
clusters (same individuals as in \code{X}).}
\item{\code{$summary()}}{Display a summary with cluster sizes and membership
scores.}
\item{\code{$plot(type, Ks)}}{Plot diagnostics: cluster sizes, membership
scores, or inertia curve as a function of \code{K}.}
\item{\code{$get_clusters()}}{Return the vector of cluster assignments
for the active variables.}
\item{\code{$get_inertia()}}{Return the total within-cluster inertia.}
\item{\code{$get_method()}}{Return the fitted method ("kmeans", "kmodes",
or "kprototypes").}
\item{\code{$get_centers()}}{Return the list of latent components or
prototypes.}
\item{\code{$get_convergence()}}{Return a logical indicating whether the
algorithm converged.}
\item{\code{$get_X_descr()}}{Return the last set of supplementary variables
passed to \code{$predict()}.}
\item{\code{$get_algorithm()}}{Return a textual description of the
exact algorithm used.}
}
}

\examples{
\dontrun{
## 1) k-means on numeric variables -----------------------------------------

# Use only numeric variables from iris
X_num <- iris[, 1:4]

obj_km <- mmrClustVar$new(method = "kmeans", K = 2, scale = TRUE)
obj_km$fit(X_num)

# Summary of clusters and membership scores
obj_km$summary()

# Plot membership scores by variable
obj_km$plot(type = "membership")

# Attach a supplementary numeric variable
res_pred_num <- obj_km$predict(iris["Sepal.Length"])


## 2) k-modes on categorical variables ------------------------------------

set.seed(123)
df_cat <- data.frame(
  Color = factor(sample(c("red", "blue", "green"), 50, replace = TRUE)),
  Shape = factor(sample(c("circle", "square"), 50, replace = TRUE)),
  Size  = factor(sample(c("S", "M", "L"), 50, replace = TRUE))
)

obj_kmodes <- mmrClustVar$new(method = "kmodes", K = 2)
obj_kmodes$fit(df_cat)

# Cluster assignments for the active variables
obj_kmodes$get_clusters()

# Summary and membership
obj_kmodes$summary()


## 3) k-prototypes on mixed data ------------------------------------------

set.seed(123)
df_mixed <- data.frame(
  Income  = rnorm(80, mean = 2000, sd = 500),
  Age     = rnorm(80, mean = 35,   sd = 10),
  City    = factor(sample(c("Paris", "Lyon", "Marseille"), 80, replace = TRUE)),
  Segment = factor(sample(c("A", "B"), 80, replace = TRUE))
)

obj_kprot <- mmrClustVar$new(method = "kprototypes", K = 3, lambda = 1)
obj_kprot$fit(df_mixed)

# Inspect fitted method and inertia
obj_kprot$get_method()
obj_kprot$get_inertia()

# Attach supplementary mixed variables
df_descr <- data.frame(
  Bonus = rnorm(80),
  Label = factor(sample(c("yes", "no"), 80, replace = TRUE))
)
res_pred_mixed <- obj_kprot$predict(df_descr)


## 4) Inertia curve to help choose K --------------------------------------

obj_elbow <- mmrClustVar$new(method = "kmeans", K = 2)
obj_elbow$fit(X_num)

# Compute inertia for several K values and plot the curve
obj_elbow$plot(type = "inertia", Ks = 2:6)
}

}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-mmrClustVar-new}{\code{mmrClustVar$new()}}
\item \href{#method-mmrClustVar-fit}{\code{mmrClustVar$fit()}}
\item \href{#method-mmrClustVar-predict}{\code{mmrClustVar$predict()}}
\item \href{#method-mmrClustVar-print}{\code{mmrClustVar$print()}}
\item \href{#method-mmrClustVar-summary}{\code{mmrClustVar$summary()}}
\item \href{#method-mmrClustVar-plot}{\code{mmrClustVar$plot()}}
\item \href{#method-mmrClustVar-get_clusters}{\code{mmrClustVar$get_clusters()}}
\item \href{#method-mmrClustVar-get_inertia}{\code{mmrClustVar$get_inertia()}}
\item \href{#method-mmrClustVar-get_method}{\code{mmrClustVar$get_method()}}
\item \href{#method-mmrClustVar-get_centers}{\code{mmrClustVar$get_centers()}}
\item \href{#method-mmrClustVar-get_convergence}{\code{mmrClustVar$get_convergence()}}
\item \href{#method-mmrClustVar-get_X_descr}{\code{mmrClustVar$get_X_descr()}}
\item \href{#method-mmrClustVar-get_algorithm}{\code{mmrClustVar$get_algorithm()}}
\item \href{#method-mmrClustVar-clone}{\code{mmrClustVar$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-new"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-new}{}}}
\subsection{Method \code{new()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$new(
  method = c("kmeans", "kmodes", "kprototypes", "auto"),
  K = 2L,
  scale = TRUE,
  lambda = 1
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{method}}{Character. One of:
\itemize{
\item \code{"kmeans"} – numeric variables only,
\item \code{"kmodes"} – categorical variables only,
\item \code{"kprototypes"} – mixed data,
\item \code{"auto"} – automatic selection based on variable types.
}}

\item{\code{K}}{Integer. Number of clusters (must be >= 2).}

\item{\code{scale}}{Logical. If \code{TRUE}, numeric variables are standardized
before clustering.}

\item{\code{lambda}}{Positive numeric. Weight of the categorical dissimilarity in
k-prototypes (ignored for k-means and k-modes).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-fit"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-fit}{}}}
\subsection{Method \code{fit()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$fit(X)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-predict"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-predict}{}}}
\subsection{Method \code{predict()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$predict(X_new)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-print"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-print}{}}}
\subsection{Method \code{print()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$print(...)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-summary"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-summary}{}}}
\subsection{Method \code{summary()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$summary(...)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-plot"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-plot}{}}}
\subsection{Method \code{plot()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$plot(type = c("inertia", "clusters", "membership"), Ks = NULL, ...)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_clusters"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_clusters}{}}}
\subsection{Method \code{get_clusters()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_clusters()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_inertia"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_inertia}{}}}
\subsection{Method \code{get_inertia()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_inertia()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_method"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_method}{}}}
\subsection{Method \code{get_method()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_method()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_centers"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_centers}{}}}
\subsection{Method \code{get_centers()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_centers()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_convergence"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_convergence}{}}}
\subsection{Method \code{get_convergence()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_convergence()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_X_descr"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_X_descr}{}}}
\subsection{Method \code{get_X_descr()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_X_descr()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-get_algorithm"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-get_algorithm}{}}}
\subsection{Method \code{get_algorithm()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$get_algorithm()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mmrClustVar-clone"></a>}}
\if{latex}{\out{\hypertarget{method-mmrClustVar-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mmrClustVar$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
